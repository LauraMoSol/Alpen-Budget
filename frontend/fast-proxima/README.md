This readme was very much generated by AI, but I hope it helps.

---

# Alpen Budget â€“ Frontend (Astro + React)

Alpen Budget is a **two-section, full-screen frontend** built with **Astro and React**, designed to generate and display offline expense reports from CSV files.

This README documents:

* the architectural decisions
* component responsibilities
* layout and scroll logic
* styling philosophy
  so future development can continue **without breaking layout, scroll, or responsiveness**.

---

## ğŸ§± Tech Stack

* **Astro** â€“ page structure, server rendering
* **React** â€“ interactivity, state, client-side logic
* **Plain CSS** â€“ styling and responsiveness (Tailwind removed)
* **No UI frameworks**

---

## ğŸ¯ Core UX Goals

1. **Landing page**

   * Full screen
   * Title, subtitle, CSV upload buttons
   * Buttons centered on the page, stacked vertically

2. **Reports page**

   * Hidden until report generation
   * Smoothly scrolls into view
   * Exactly one viewport tall
   * Displays graphs or a placeholder

3. **Responsive & stable**

   * Layout scales proportionally with screen size
   * Zooming (`Ctrl + / âˆ’`) does not shift sections
   * No layout jumps or overlap

---

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ index.astro          # Page layout & section separation
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ CSVUpload.jsx        # File input + Generate Report button
â”‚   â”œâ”€â”€ ReportSection.jsx   # State, visibility, scrolling logic
â”‚   â”œâ”€â”€ GraphCarousel.jsx   # Responsive graph display
â”‚   â””â”€â”€ ScrollReveal.astro  # Scroll-based reveal animation
â”‚
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ global.css           # All styling (no Tailwind)
â”‚
public/
â””â”€â”€ placeholder_graph.jpeg  # Placeholder graph image
```

---

## ğŸ§  Architectural Overview

### Astro vs React Responsibilities

| Layer     | Responsibility                                   |
| --------- | ------------------------------------------------ |
| **Astro** | Page layout, section structure, server rendering |
| **React** | State, user events, scrolling, dynamic content   |
| **CSS**   | Positioning, sizing, responsiveness, animation   |

âš ï¸ **Browser APIs (`window`, `document`) must never be used in Astro frontmatter.**

---

## ğŸ§© Component Breakdown

---

### `index.astro` â€“ Page Skeleton

**Purpose**

* Defines the overall page structure
* Separates landing section from report section
* Does not manage state or scrolling

**Key concepts**

* Landing section uses `.landing` and fills `100vh`
* Reports are rendered via `<ReportSection client:load />`
* All centering logic for page 1 lives here

---

### `ReportSection.jsx` â€“ State & Scroll Controller (Critical)

This is the **core logic component**.

**Responsibilities**

* Stores generated graphs
* Controls visibility of reports
* Triggers smooth scroll when reports appear
* Ensures reports section fills one viewport

**Key behaviors**

* Receives graphs from `CSVUpload`
* Injects a placeholder graph if none exist
* Scrolls reports section into view using `scrollIntoView`
* Prevents layout shifts when zooming or resizing

---

### `CSVUpload.jsx` â€“ User Input

**Responsibilities**

* CSV file selection
* â€œGenerate Reportâ€ action
* Calls `onReportGenerated(graphs)`

**Design rule**

* No layout logic
* No scrolling logic
* No visibility control

This keeps the component reusable and predictable.

---

### `GraphCarousel.jsx` â€“ Responsive Graph Display

**Responsibilities**

* Displays graphs in a responsive layout
* Shows placeholder image when no graphs exist

**Design choices**

* Flexbox with wrapping
* `clamp()` for responsive sizing
* No fixed widths
* No viewport positioning

---

### `ScrollReveal.astro` â€“ Visual Enhancement

**Purpose**

* Adds fade/slide-in animation when elements enter viewport
* Cosmetic only (safe to remove)

---

## ğŸ¨ Styling Philosophy (`global.css`)

### Core Principles

* No Tailwind
* No absolute positioning
* No fixed pixel layouts
* Layout flows naturally

---

### Key Layout Classes

#### `.landing`

```css
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
min-height: 100vh;
```

Centers all landing content perfectly in the viewport.

---

#### `.csv-upload`

```css
display: flex;
flex-direction: column;
align-items: flex-start;
gap: 1rem;
```

* Buttons stacked vertically
* Left edges aligned
* Parent container centers the group

---

#### `.carousel`

```css
min-height: 100vh;
display: flex;
flex-direction: column;
align-items: center;
```

Ensures reports page always fills the screen.

---

### Typography & Sizing

* Uses `clamp()` everywhere
* Scales proportionally with screen size
* No media queries required

---

## ğŸ§­ Scroll Logic (How Navigation Works)

Scrolling is **event-driven**, not manual.

**Flow**

1. User clicks **Generate Report**
2. `ReportSection` sets `visible = true`
3. `useEffect` fires
4. Reports section scrolls into view
5. Reports land at the **top of the viewport**

Zooming does **not** move the user between sections.

---

## ğŸš« Rules for Future Development (IMPORTANT)

### âŒ Do NOT

* Use `window` or `document` in `.astro` frontmatter
* Add `vh` sizing inside buttons or child components
* Nest unnecessary flex containers
* Use absolute positioning for layout
* Reintroduce Tailwind utilities

### âœ… Do

* Keep browser logic in React only
* Let parent containers handle centering
* Use `clamp()` for responsive sizing
* Use `min-height: 100vh` only for full sections
* Keep components layout-agnostic

---

## ğŸ”œ Safe Next Steps

* Parse CSV into real graphs
* Replace placeholder with actual charts
* Add pagination to `GraphCarousel`
* Export reports as static HTML
* Add report metadata (date, totals, categories)

All of these integrate cleanly into the current architecture.

---

## ğŸ§  Mental Model for New Contributors

> **Astro defines pages.
> React controls behavior.
> CSS controls proportions â€” not position.**

---